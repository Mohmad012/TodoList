(this["webpackJsonptodo-list"]=this["webpackJsonptodo-list"]||[]).push([[0],{29:function(t,e,o){},30:function(t,e,o){"use strict";o.r(e);var c=o(1),n=o(0),s=o.n(n),a=o(7),i=o.n(a),d=o(9),r=o(5),j=o.n(r),l=o(2),u="ADD",O="NOT_DONE",b="EDIT",f="CHANGE_MODE",h="ADD_TODO",m="EDIT_TODO",v="SET_ACTIVE_TODO",p="EDIT_COMPLETION",x="DELETE_TODO",_=function(t){return{type:v,payload:t}},N=function(t){return{type:f,payload:t}},E=function(t){var e=Object(l.b)(),o=function(t){e(function(t){return{type:p,payload:t}}(t))},n=t.todo,s=n.id,a=n.title,i=n.done;return Object(c.jsxs)("div",{className:i?"todos-todo done":"todos-todo ",children:[Object(c.jsx)("div",{className:"todos-todo_icon",onClick:function(){return o(s)},children:Object(c.jsx)(j.a,{icon:i?"check-circle":"circle"})}),Object(c.jsxs)("div",{className:"todos-todo_text",children:[" ",a," "]}),Object(c.jsxs)("div",{className:"todos-todo_cta",children:[Object(c.jsx)("div",{className:"todos-todo_cta-edit",onClick:function(){return o=t.todo,e(N(b)),void e(_(o));var o},children:Object(c.jsx)(j.a,{icon:"edit",size:"20"})}),Object(c.jsx)("div",{className:"todos-todo_cta-delete",onClick:function(){return e(function(t){return{type:x,payload:t}}(s))},children:Object(c.jsx)(j.a,{icon:"trash-2",size:"20"})})]})]})},y=function(t){var e=Object(l.c)((function(t){return t.todosState.todos})),o=Object(l.c)((function(t){return t.todosState.activeTodo})),s=Object(l.c)((function(t){return t.modesState.mode})),a=Object(n.useState)([]),i=Object(d.a)(a,2),r=i[0],j=i[1];return Object(n.useEffect)((function(){if(s===u)j(e);else if(s===b)j([o]);else if(s===O){var t=e.filter((function(t){return!1===t.done}));j(t)}}),[s,e,o]),Object(n.useEffect)((function(){localStorage.setItem("todos",JSON.stringify(e))}),[e]),Object(c.jsxs)("div",{className:"todos-list",children:[r.map((function(t){return Object(c.jsx)(E,{todo:t},t.id)})),0===r.length?Object(c.jsx)("h3",{className:"no-todos",children:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0645\u0647\u0627\u0645 \u062d\u0627\u0644\u064a\u0629 .."}):null]})},S=function(t){var e=Object(n.useState)(""),o=Object(d.a)(e,2),s=o[0],a=o[1],i=Object(l.c)((function(t){return t.modesState.mode})),r=Object(l.c)((function(t){return t.todosState.activeTodo})),f=Object(l.b)();Object(n.useEffect)((function(){i===b&&r&&a(r.title)}),[i,r]);var v="\u0625\u0636\u0627\u0641\u0629";return i===b&&(v="\u062a\u0639\u062f\u064a\u0644 .."),Object(c.jsxs)("div",{className:"todos-form",children:[Object(c.jsx)("div",{className:i===O?"todos-form_icon active":"todos-form_icon",onClick:function(){i===u?f(N(O)):i===O&&f(N(u))},children:Object(c.jsx)(j.a,{icon:"circle"})}),Object(c.jsx)("div",{className:"todos-form_form",children:Object(c.jsx)("input",{type:"text",placeholder:"\u0627\u0636\u0641 \u0645\u0647\u0645\u0629 \u062c\u062f\u064a\u062f\u0629 ...",onChange:function(t){a(t.target.value)},value:s})}),Object(c.jsx)("div",{className:"todos-form_submit",children:Object(c.jsx)("button",{className:"btn",onClick:function(){if(i!==b){var t={id:Date.now(),title:s,done:!1};f({type:h,payload:t}),a("")}else f({type:m,payload:s}),f(_({})),f(N(u)),a("")},disabled:!s.trim(),children:v})})]})},T=function(){return Object(c.jsx)("main",{children:Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"todos",children:[Object(c.jsx)(S,{}),Object(c.jsx)(y,{})]})})})},D=function(){var t=Object(l.c)((function(t){return t.todosState.todos}));return Object(c.jsx)("header",{children:Object(c.jsxs)("h1",{children:["\u0642\u0627\u0626\u0645\u0629 \u0627\u0644\u0645\u0647\u0627\u0645 ",Object(c.jsxs)("span",{children:["( ",t&&t.length," )"]})]})})};var g=function(){return Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(D,{}),Object(c.jsx)(T,{})]})},I=(o(29),o(4)),w=o(16),C=o(3),k={todos:localStorage.getItem("todos")?JSON.parse(localStorage.getItem("todos")):[],activeTodo:{}},A=function(t,e){return t.map((function(t){return t.id===e?(t.done=!t.done,t):t}))},J=function(t,e){return t.filter((function(t){return t.id!==e}))},L=function(t,e,o){return t.map((function(t){return t.id===e.id?(t.title=o,t):t}))},X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case h:return Object(C.a)(Object(C.a)({},t),{},{todos:[].concat(Object(w.a)(t.todos),[e.payload])});case p:return Object(C.a)(Object(C.a)({},t),{},{todos:A(t.todos,e.payload)});case x:return Object(C.a)(Object(C.a)({},t),{},{todos:J(t.todos,e.payload)});case v:return Object(C.a)(Object(C.a)({},t),{},{activeTodo:e.payload});case m:return Object(C.a)(Object(C.a)({},t),{},{todos:L(t.todos,t.activeTodo,e.payload)});default:return t}},M={mode:u},V=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case f:return Object(C.a)(Object(C.a)({},t),{},{mode:e.payload});default:return t}},z=Object(I.b)({todosState:X,modesState:V}),R=Object(I.c)(z,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(l.a,{store:R,children:Object(c.jsx)(g,{})})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.5529bcfb.chunk.js.map